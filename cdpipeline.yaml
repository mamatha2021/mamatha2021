name: CD - terraform Plan Destroy
on:
  workflow_dispatch:
    inputs:
      module:
        type: choice
        description: Select module to remove
        required: true
        default: supervision
        options:
          - supervision
      environment:
        type: environment
        description: Select environment to remove
        required: true
        default: preproduction
        options:
          - preproduction
          - production
      aws-region:
        type: choice
        description: Select AWS region zone
        required: true
        default: eu-central-1
        options:
          - eu-central-1
      destroy:
        description: Launch Terraform destroy ?
        required: true
        type: boolean
        default: false

env:
  TERRAFORM_VERSION : 1.1.6
